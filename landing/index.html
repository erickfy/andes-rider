<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="AndesRider Motors: motos urbanas y doble propósito, taller, repuestos y accesorios." />
  <title>AndesRider Motors | Portal</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>

    <div id="top-scroll" aria-hidden="true"></div>
  <!-- Skip link accesibilidad -->
  <a class="skip-link" href="#home">Saltar al contenido</a>

  <header class="site-header" id="top">
    <div class="container header-inner">
      <!-- Logo + marca -->
      <a class="brand" href="#home" aria-label="Ir a inicio AndesRider Motors">
        <span class="brand-mark" aria-hidden="true">
          <!-- Logo IMG -->
          <img src="./img/logo.png" alt="Logo AndesRider Motors" width="42" height="42" style="border-radius: 50%;">
        </span>
        <span class="brand-text">
          <strong>ANDESRIDER</strong>
          <small>MOTORS</small>
        </span>
      </a>

      <!-- Botón menú móvil -->
      <button class="nav-toggle" id="navToggle" aria-controls="primaryNav" aria-expanded="false">
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="sr-only">Abrir menú</span>
        </button>

      <!-- Navegación -->
      <nav class="site-nav" id="primaryNav" aria-label="Navegación principal">
        <a class="nav-link is-active" href="#home">Home</a>
        <a class="nav-link" href="#empresa">Empresa</a>
        <a class="nav-link" href="#productos">Productos</a>
        <a class="nav-link" href="#oferta">Oferta del mes</a>
        <a class="nav-link" href="#localizacion">Localización</a>
        <a class="nav-link" href="#contacto">Contacto</a>
        <a class="nav-link" href="#noticias">Noticias</a>
      </nav>

      <!-- Botón tema (claro/oscuro) -->
      <button class="theme-toggle" id="themeToggle" type="button" aria-pressed="false" aria-label="Cambiar tema">
        <span class="theme-toggle-icon" aria-hidden="true">☀</span>
        <span class="theme-toggle-text">Tema</span>
      </button>
    </div>
  </header>

  <main>
    <!-- HOME -->
    <section class="hero" id="home" aria-label="Sección principal">
      <div class="hero-overlay"></div>
      <div class="container hero-content">
        <p class="hero-kicker">Motos urbanas | Doble propósito | Taller y repuestos</p>
        <h1>Potencia para tu ruta diaria.</h1>
        <p class="hero-subtitle">
          AndesRider Motors combina motos confiables, mantenimiento profesional y repuestos con garantía.
          Ideal para ciudad, trabajo y aventura de fin de semana.
        </p>
        <div class="hero-actions">
          <a class="btn btn-primary" href="#productos">Ver catálogo</a>
          <a class="btn btn-ghost" href="#contacto">Agendar mantenimiento</a>
        </div>
          <div class="hero-badges" aria-label="Beneficios">
          <div class="badge">
            <strong>12 meses</strong>
            <span>garantía seleccionada</span>
          </div>
          <div class="badge">
            <strong>Entrega</strong>
            <span>en 24–72 horas</span>
          </div>
          <div class="badge">
            <strong>Financiamiento</strong>
            <span>según perfil</span>
          </div>
        </div>
      </div>
    </section>

    <!-- EMPRESA -->
    <section class="section" id="empresa">
      <div class="container">
        <div class="section-head">
          <h2>Empresa</h2>
          <p>
            Somos un emprendimiento enfocado en movilidad real: motos eficientes, repuestos originales/compatibles,
            y un taller que prioriza seguridad, diagnóstico y calidad de servicio.
          </p>
        </div>

        <div class="grid-3">
          <article class="card">
            <h3>Quiénes somos</h3>
            <p>
              AndesRider Motors nace para cubrir la necesidad de transporte económico y confiable.
              Trabajamos con modelos de entrada, trabajo y doble propósito.
            </p>
            <ul class="list">
              <li>Venta de motos y accesorios</li>
              <li>Repuestos y lubricantes</li>
              <li>Taller mecánico</li>
            </ul>
          </article>

          <article class="card">
            <h3>Horarios</h3>
            <div class="kv">
              <div><span>Lunes a Viernes</span><strong>09:00 – 18:30</strong></div>
              <div><span>Sábados</span><strong>09:00 – 14:00</strong></div>
              <div><span>Domingos</span><strong>Cerrado</strong></div>
            </div>
            <p class="muted">Atención de taller con cita prioritaria.</p>
          </article>

          <article class="card">
            <h3>Servicios</h3>
            <ul class="list">
              <li>Mantenimiento preventivo y correctivo</li>
              <li>Diagnóstico eléctrico</li>
              <li>Cambio de aceite y filtros</li>
              <li>Frenos, transmisión, llantas</li>
              <li>Instalación de accesorios</li>
            </ul>
          </article>
        </div>

        <div class="cta-strip">
          <div>
            <strong>¿Buscas una moto para trabajo o ciudad?</strong>
            <span>Te recomendamos cilindrada, consumo y mantenimiento según tu uso.</span>
          </div>
          <a class="btn btn-primary" href="#contacto">Cotizar</a>
        </div>
      </div>
    </section>

    <!-- PRODUCTOS (Catálogo + CRUD) -->
    <section class="section section-alt" id="productos">
      <div class="container">
        <div class="section-head">
          <h2>Productos</h2>
          <p>
            Catálogo de referencia. Puedes <strong>agregar, editar y eliminar</strong> productos.
          </p>
        </div>

        <div class="toolbar" role="region" aria-label="Herramientas de catálogo">
          <div class="toolbar-left">
            <button class="btn btn-primary" id="btnAddProduct">Agregar producto</button>
            <button class="btn btn-ghost" id="btnReload" title="Recargar datos del servidor">
              Recargar
            </button>
          </div>

          <div class="toolbar-right">
            <label class="field">
              <span class="field-label">Buscar</span>
              <input type="search" id="searchInput" placeholder="Ej: 150cc, casco, dual..." />
            </label>

            <label class="field">
              <span class="field-label">Ordenar</span>
              <select id="sortSelect">
                <option value="name-asc">Nombre (A–Z)</option>
                <option value="name-desc">Nombre (Z–A)</option>
                <option value="price-asc">Precio (menor a mayor)</option>
                <option value="price-desc">Precio (mayor a menor)</option>
              </select>
            </label>
          </div>
        </div>

        <div class="table-wrap" role="region" aria-label="Tabla de productos" tabindex="0">
          <table class="table" id="productsTable">
            <thead>
              <tr>
                <th>Producto</th>
                <th>Categoría</th>
                <th class="num">Precio</th>
                <th class="num">Stock</th>
                <th>Estado</th>
                <th class="num">Acciones</th>
              </tr>
            </thead>
            <tbody id="productsTbody">
              <!-- JS render -->
            </tbody>
          </table>
        </div>
        <p class="muted" id="productsMeta"></p>
      </div>
    </section>

    <!-- OFERTA DEL MES -->
    <section class="section" id="oferta">
      <div class="container">
        <div class="section-head">
          <h2>Oferta del mes</h2>
          <p>Destacamos un producto con excelente relación costo-beneficio y alta rotación en el mercado urbano.</p>
        </div>

        <div class="offer">
          <div class="offer-media" aria-hidden="true"></div>
          <div class="offer-body">
            <div class="pill">-12% por tiempo limitado</div>
            <h3>AndesRider Urban 150</h3>
            <p>
              Moto urbana 150cc ideal para movilidad diaria. Consumo eficiente, mantenimiento sencillo,
              repuestos accesibles y excelente desempeño en ciudad.
            </p>
            <ul class="list">
              <li>150cc | 5 velocidades | arranque eléctrico/patada</li>
              <li>Freno delantero de disco</li>
              <li>Garantía y plan de mantenimiento</li>
            </ul>

            <div class="price-row" aria-label="Precio de oferta">
              <div>
                <span class="muted">Antes</span>
                <div class="price-old">$1,799</div>
              </div>
              <div>
                <span class="muted">Ahora</span>
                <div class="price-now">$1,589</div>
              </div>
            </div>

            <div class="hero-actions">
              <a class="btn btn-primary" href="#contacto">Reservar oferta</a>
              <a class="btn btn-ghost" href="#productos">Comparar modelos</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCALIZACIÓN -->
    <section class="section section-alt" id="localizacion">
      <div class="container">
        <div class="section-head">
          <h2>Localización</h2>
          <p>Encuéntranos y agenda tu visita. Si no puedes usar el mapa, abajo tienes la dirección y referencias.</p>
        </div>

        <div class="grid-2">
          <div class="card">
            <h3>Dirección</h3>
            <p>
              Av. Principal 123, Sector Comercial<br>
              Guayaquil, Ecuador
            </p>
            <div class="kv">
              <div><span>Teléfono</span><strong>+593 99 123 4567</strong></div>
              <div><span>Correo</span><strong>ventas@andesrider.example</strong></div>
              <div><span>Referencia</span><strong>Frente a Plaza Central</strong></div>
            </div>
            <p class="muted">Coordenadas de ejemplo: -2.170998, -79.922359</p>
          </div>

          <div class="map card" aria-label="Mapa de ubicación">
            <iframe
              title="Mapa AndesRider Motors"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q=Guayaquil%20Ecuador&output=embed">
            </iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section class="section" id="contacto">
      <div class="container">
        <div class="section-head">
          <h2>Contacto</h2>
          <p>Envíanos tus datos. Se guardarán en la base de datos de AndesRider.</p>
        </div>

        <div class="grid-2">
          <form class="card form" id="contactForm" novalidate>
            <div class="form-row">
              <label class="field">
                <span class="field-label">Nombre completo</span>
                <input type="text" id="name" required minlength="3" placeholder="Ej: Juan Pérez" />
              </label>

              <label class="field">
                <span class="field-label">Teléfono</span>
                <input type="tel" id="phone" required placeholder="Ej: 0991234567" />
              </label>
            </div>

            <div class="form-row">
              <label class="field">
                <span class="field-label">Correo</span>
                <input type="email" id="email" required placeholder="Ej: juan@email.com" />
              </label>

              <label class="field">
                <span class="field-label">Motivo</span>
                <select id="reason" required>
                  <option value="" selected disabled>Selecciona…</option>
                  <option value="cotizacion">Cotización de moto</option>
                  <option value="repuestos">Repuestos / accesorios</option>
                  <option value="taller">Cita de taller</option>
                </select>
              </label>
            </div>

            <label class="field">
              <span class="field-label">Mensaje</span>
              <textarea id="message" rows="4" required minlength="10" placeholder="Cuéntanos qué necesitas..."></textarea>
            </label>

            <div class="form-actions">
              <button class="btn btn-primary" type="submit">Enviar</button>
              <button class="btn btn-ghost" type="reset">Limpiar</button>
            </div>

            <div class="alert" id="contactAlert" role="status" aria-live="polite" hidden></div>
          </form>

          <aside class="card">
            <h3>Atención rápida</h3>
            <p class="muted">
              Tiempo de respuesta estimado: 1 día laborable.
              Para taller, incluye marca/modelo y el problema principal.
            </p>

            <div class="mini-cards">
              <div class="mini">
                <strong>Ventas</strong>
                <span>Comparación de modelos</span>
              </div>
              <div class="mini">
                <strong>Taller</strong>
                <span>Diagnóstico y mantenimiento</span>
              </div>
              <div class="mini">
                <strong>Repuestos</strong>
                <span>Original/compatible</span>
              </div>
            </div>

            <hr class="sep">

            <h4>Redes (demo)</h4>
            <p class="muted">
              Instagram: @andesridermotors<br>
              Facebook: AndesRider Motors
            </p>
          </aside>
        </div>
      </div>
    </section>

    <!-- NOTICIAS (Mantener igual) -->
    <section class="section section-alt" id="noticias">
        <div class="container">
            <div class="news-grid" id="newsGrid"></div>
            <div class="center">
                <button class="btn btn-ghost" id="btnLoadMore">Cargar más</button>
            </div>
        </div>
    </section>
  </main>

  <!-- PIE DE PÁGINA -->
  <footer class="footer">
    <div class="container footer-inner">
      <div>
        <strong>ANDESRIDER MOTORS</strong>
        <p class="muted">
          Venta de motos, repuestos, accesorios y servicio técnico. Enfoque en seguridad, garantía y mantenimiento.
        </p>
      </div>

      <div class="footer-right">
        <a href="#top-scroll" class="back-top">↑ Volver arriba</a>
        <small class="muted">© <span id="year"></span> AndesRider Motors. Proyecto académico.</small>
      </div>
    </div>
  </footer>

  <!-- Modal (Crear/Editar producto) -->
  <div class="modal" id="productModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-backdrop" data-close="true"></div>
    <div class="modal-card" role="document">
      <div class="modal-head">
        <h3 id="modalTitle">Producto</h3>
        <button class="icon-btn" id="btnCloseModal">×</button>
      </div>

      <form id="productForm" class="form" novalidate>
        <input type="hidden" id="productId" />

        <label class="field">
          <span class="field-label">Nombre</span>
          <input type="text" id="pName" required minlength="3" />
        </label>

        <div class="form-row">
          <label class="field">
            <span class="field-label">Categoría</span>
            <!-- CAMBIO IMPORTANTE: Values son IDs numéricos del Backend -->
            <select id="pCategory" required>
              <option value="" selected disabled>Selecciona…</option>
              <option value="1">Moto</option>
              <option value="2">Accesorio</option>
              <option value="3">Repuesto</option>
              <option value="4">Servicio</option>
            </select>
          </label>

          <label class="field">
            <span class="field-label">Estado</span>
            <select id="pStatus" required>
              <option value="Disponible">Disponible</option>
              <option value="Pocas unidades">Pocas unidades</option>
              <option value="Agotado">Agotado</option>
            </select>
          </label>
        </div>

        <div class="form-row">
          <label class="field">
            <span class="field-label">Precio (USD)</span>
            <input type="number" id="pPrice" required min="0" step="0.01" />
          </label>
          <label class="field">
            <span class="field-label">Stock</span>
            <input type="number" id="pStock" required min="0" step="1" />
          </label>
        </div>

        <label class="field">
          <span class="field-label">Descripción corta</span>
          <textarea id="pDesc" rows="3" required minlength="10"></textarea>
        </label>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" id="btnSaveProduct">Guardar</button>
          <button type="button" class="btn btn-ghost" id="btnCancelModal">Cancelar</button>
        </div>
        <div class="alert" id="productAlert" hidden></div>
      </form>
    </div>
  </div>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

  <!-- Scripts del Proyecto -->
  <script src="crud.js"></script> <!-- PRIMERO: La API -->
  <script src="index.js"></script> <!-- SEGUNDO: La Lógica UI -->
</body>
</html>